import{S as Q,i as Z,s as $,e as u,t as g,k as b,c,a as y,h as A,d as f,m as w,b as r,g as x,F as t,T as U,H as V,G as M,R as ee,U as te,V as ae,W as se,X as ne}from"../chunks/vendor-463e4ee4.js";import{a as le}from"../chunks/firebase-c7883a30.js";import{r as re}from"../chunks/fetch-552fd9ba.js";function ie(s){let p,e,n,v,_,E,C,N,i,k,d,I,O,o,B,S,q,D,h,H,P,R,W,T,F,G,X;return{c(){p=u("body"),e=u("div"),n=u("h1"),v=g("Create an Account"),_=b(),E=u("p"),C=g("Username"),N=b(),i=u("input"),k=b(),d=u("p"),I=g("Email"),O=b(),o=u("input"),B=b(),S=u("p"),q=g("Password"),D=b(),h=u("input"),H=b(),P=u("button"),R=g("Create Account!"),W=b(),T=u("button"),F=g("Already have Account"),this.h()},l(l){p=c(l,"BODY",{class:!0});var m=y(p);e=c(m,"DIV",{class:!0});var a=y(e);n=c(a,"H1",{id:!0,class:!0});var Y=y(n);v=A(Y,"Create an Account"),Y.forEach(f),_=w(a),E=c(a,"P",{});var j=y(E);C=A(j,"Username"),j.forEach(f),N=w(a),i=c(a,"INPUT",{type:!0,class:!0}),k=w(a),d=c(a,"P",{});var z=y(d);I=A(z,"Email"),z.forEach(f),O=w(a),o=c(a,"INPUT",{type:!0,class:!0}),B=w(a),S=c(a,"P",{});var J=y(S);q=A(J,"Password"),J.forEach(f),D=w(a),h=c(a,"INPUT",{type:!0,class:!0}),H=w(a),P=c(a,"BUTTON",{class:!0});var K=y(P);R=A(K,"Create Account!"),K.forEach(f),W=w(a),T=c(a,"BUTTON",{class:!0});var L=y(T);F=A(L,"Already have Account"),L.forEach(f),a.forEach(f),m.forEach(f),this.h()},h(){r(n,"id","title"),r(n,"class","svelte-i9b4pc"),r(i,"type","text"),r(i,"class","svelte-i9b4pc"),r(o,"type","text"),r(o,"class","svelte-i9b4pc"),r(h,"type","password"),r(h,"class","svelte-i9b4pc"),r(P,"class","svelte-i9b4pc"),r(T,"class","svelte-i9b4pc"),r(e,"class","svelte-i9b4pc"),r(p,"class","svelte-i9b4pc")},m(l,m){x(l,p,m),t(p,e),t(e,n),t(n,v),t(e,_),t(e,E),t(E,C),t(e,N),t(e,i),U(i,s[0]),t(e,k),t(e,d),t(d,I),t(e,O),t(e,o),U(o,s[1]),t(e,B),t(e,S),t(S,q),t(e,D),t(e,h),U(h,s[2]),t(e,H),t(e,P),t(P,R),t(e,W),t(e,T),t(T,F),G||(X=[V(i,"input",s[5]),V(o,"input",s[6]),V(h,"input",s[7]),V(P,"click",s[3]),V(T,"click",s[4])],G=!0)},p(l,[m]){m&1&&i.value!==l[0]&&U(i,l[0]),m&2&&o.value!==l[1]&&U(o,l[1]),m&4&&h.value!==l[2]&&U(h,l[2])},i:M,o:M,d(l){l&&f(p),G=!1,ee(X)}}}const de=async({session:s})=>s.user.exists?{status:302,redirect:"/"}:{};function oe(s,p,e){let n,v,_;const E=async()=>{const d=await te(le,v,_).catch(O=>{const o=O.code;alert(o)});await ae(d.user,{displayName:n}),await se(d.user).then(()=>{alert("Email Verification sent!")});const I=await ne(d.user,!0);await re("/auth","POST",{idToken:I}),window.location.replace("/login")},C=async()=>{window.location.replace("/login")};function N(){n=this.value,e(0,n)}function i(){v=this.value,e(1,v)}function k(){_=this.value,e(2,_)}return[n,v,_,E,C,N,i,k]}class he extends Q{constructor(p){super();Z(this,p,oe,ie,$,{})}}export{he as default,de as load};
