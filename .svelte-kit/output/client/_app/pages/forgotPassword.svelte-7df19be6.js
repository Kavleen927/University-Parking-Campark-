import{S as ue,i as ie,s as ce,R as pe,e as o,k as i,t as S,w as ye,c as r,a as f,m as c,h as B,d as p,x as de,b as n,f as fe,g as he,F as t,T as F,y as ve,H as D,q as me,o as be,B as _e,U as we,V as ge,W as Pe,X as Te}from"../chunks/vendor-416dc828.js";import{a as Ee}from"../chunks/firebase-416446b3.js";import{r as ke}from"../chunks/fetch-552fd9ba.js";function Re(l){let y,e,b,I,g,P,d,N,$,h,W,U,T,_,M,u,O,q,V,j,E,k,H,A,X,Y,v,z,C,G,J,m,K,R,L,Q,Z,x;return k=new pe({props:{items:l[3],groupBy:l[4]}}),{c(){y=o("body"),e=o("div"),b=o("br"),I=o("br"),g=o("br"),P=i(),d=o("button"),N=S("\u27F5"),$=i(),h=o("h1"),W=S("Reset Password"),U=i(),T=o("p"),_=S("Email"),M=i(),u=o("input"),O=i(),q=o("p"),V=S("Security Question"),j=i(),E=o("div"),ye(k.$$.fragment),H=i(),A=o("p"),X=S("Answer"),Y=i(),v=o("input"),z=i(),C=o("p"),G=S("New Password"),J=i(),m=o("input"),K=i(),R=o("button"),L=S("RESET"),this.h()},l(s){y=r(s,"BODY",{class:!0});var w=f(y);e=r(w,"DIV",{class:!0});var a=f(e);b=r(a,"BR",{}),I=r(a,"BR",{}),g=r(a,"BR",{}),P=c(a),d=r(a,"BUTTON",{id:!0,class:!0});var ee=f(d);N=B(ee,"\u27F5"),ee.forEach(p),$=c(a),h=r(a,"H1",{id:!0,class:!0});var te=f(h);W=B(te,"Reset Password"),te.forEach(p),U=c(a),T=r(a,"P",{});var ae=f(T);_=B(ae,"Email"),ae.forEach(p),M=c(a),u=r(a,"INPUT",{type:!0,class:!0}),O=c(a),q=r(a,"P",{});var se=f(q);V=B(se,"Security Question"),se.forEach(p),j=c(a),E=r(a,"DIV",{style:!0,class:!0});var oe=f(E);de(k.$$.fragment,oe),oe.forEach(p),H=c(a),A=r(a,"P",{});var re=f(A);X=B(re,"Answer"),re.forEach(p),Y=c(a),v=r(a,"INPUT",{type:!0,class:!0}),z=c(a),C=r(a,"P",{});var le=f(C);G=B(le,"New Password"),le.forEach(p),J=c(a),m=r(a,"INPUT",{type:!0,class:!0}),K=c(a),R=r(a,"BUTTON",{class:!0});var ne=f(R);L=B(ne,"RESET"),ne.forEach(p),a.forEach(p),w.forEach(p),this.h()},h(){n(d,"id","back"),n(d,"class","svelte-19yo9ye"),n(h,"id","title"),n(h,"class","svelte-19yo9ye"),n(u,"type","text"),n(u,"class","svelte-19yo9ye"),fe(E,"width","900px"),n(E,"class","svelte-19yo9ye"),n(v,"type","text"),n(v,"class","svelte-19yo9ye"),n(m,"type","password"),n(m,"class","svelte-19yo9ye"),n(R,"class","svelte-19yo9ye"),n(e,"class","svelte-19yo9ye"),n(y,"class","svelte-19yo9ye")},m(s,w){he(s,y,w),t(y,e),t(e,b),t(e,I),t(e,g),t(e,P),t(e,d),t(d,N),t(e,$),t(e,h),t(h,W),t(e,U),t(e,T),t(T,_),t(e,M),t(e,u),F(u,l[0]),t(e,O),t(e,q),t(q,V),t(e,j),t(e,E),ve(k,E,null),t(e,H),t(e,A),t(A,X),t(e,Y),t(e,v),F(v,l[1]),t(e,z),t(e,C),t(C,G),t(e,J),t(e,m),F(m,l[2]),t(e,K),t(e,R),t(R,L),Q=!0,Z||(x=[D(d,"click",l[6]),D(u,"input",l[7]),D(v,"input",l[8]),D(m,"input",l[9]),D(R,"click",l[5])],Z=!0)},p(s,[w]){w&1&&u.value!==s[0]&&F(u,s[0]),w&2&&v.value!==s[1]&&F(v,s[1]),w&4&&m.value!==s[2]&&F(m,s[2])},i(s){Q||(me(k.$$.fragment,s),Q=!0)},o(s){be(k.$$.fragment,s),Q=!1},d(s){s&&p(y),_e(k),Z=!1,we(x)}}}const Ne=async({session:l})=>l.user.exists?{status:302,redirect:"/"}:{};function Se(l,y,e){let b,I,g,P;const d=[{value:"Maiden name of your mother",label:"Maiden name of your mother",group:"Family"},{value:"The name of your first pet",label:"The name of your first pet",group:"Personal"},{value:"In what city were you born?",label:"In what city were you born?",group:"Personal"},{value:"The make of your first ca",label:"The make of your first car",group:"Personal"},{value:"Favorite food as a child",label:"Favorite food as a child",group:"Personal"},{value:"Month your best friend born was born",label:"Month your best friend was born",group:"Personal"},{value:"Favorite movie",label:"Favorite movie",group:"Personal"},{value:"Something you will never eat",label:"Something you will never eat",group:"Food"},{value:"What was your first job?",label:"What was your first job?",group:"Personal"},{value:"What was the make of your first car?",label:"What was the make of your first car?",group:"Personal"},{value:"Who is your favorite actor/actress?",label:"Who is your favorite actor/actress?",group:"Personal"},{value:"The name of your favorite book?",label:"The name of your favorite book?",group:"Personale"}],N=_=>_.group,$=async()=>{const _=await ge(Ee,b).catch(u=>{const O=u.code;alert(O)});await Pe(_.user,{displayName:I});const M=await Te(_.user,!0);await ke("/auth","POST",{idToken:M}),window.location.replace("/")},h=async()=>{window.location.replace("/login")};function W(){b=this.value,e(0,b)}function U(){g=this.value,e(1,g)}function T(){P=this.value,e(2,P)}return[b,g,P,d,N,$,h,W,U,T]}class $e extends ue{constructor(y){super();ie(this,y,Se,Re,ce,{})}}export{$e as default,Ne as load};
