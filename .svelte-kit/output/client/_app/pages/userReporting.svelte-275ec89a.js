import{S as ke,i as Pe,s as Ee,$ as Ue,e as t,k as b,t as I,w as we,c as r,a as T,m as c,h as N,d as m,x as Ie,b as u,g as Te,F as e,T as k,y as Ne,H as F,q as qe,o as Ce,B as De,U as Se,O as Oe,D as $e,a0 as Me,a1 as He,a2 as We}from"../chunks/vendor-e346f08a.js";import{d as je}from"../chunks/firebase-63386f35.js";function Fe(i){let n,_,U,R,v,B,y,w,q,C,D,S,O,$,z,A,G,J,l,P,K,L,M,Q,X,d,Z,H,x,ee,f,te,W,re,le,h,ae,j,se,ne,p,oe,E,ue,ie,pe,be,ce,de,fe,V,g,Y,he,me;return g=new Ue({props:{show:i[4]}}),{c(){n=t("body"),_=t("br"),U=t("br"),R=t("br"),v=t("br"),B=t("br"),y=t("br"),w=t("br"),q=t("br"),C=t("br"),D=t("br"),S=t("br"),O=t("br"),$=t("br"),z=t("br"),A=t("br"),G=t("br"),J=b(),l=t("div"),P=t("h1"),K=I("Report a Complaint"),L=b(),M=t("p"),Q=I("Date"),X=b(),d=t("input"),Z=b(),H=t("p"),x=I("Title"),ee=b(),f=t("input"),te=b(),W=t("p"),re=I("What is the license plate number of the vehicle you are reporting?"),le=b(),h=t("input"),ae=b(),j=t("p"),se=I("State the details of the issue"),ne=b(),p=t("input"),oe=b(),E=t("button"),ue=I("SUBMIT REPORT"),ie=b(),pe=t("br"),be=t("br"),ce=t("br"),de=t("br"),fe=t("br"),V=b(),we(g.$$.fragment),this.h()},l(o){n=r(o,"BODY",{class:!0});var a=T(n);_=r(a,"BR",{}),U=r(a,"BR",{}),R=r(a,"BR",{}),v=r(a,"BR",{}),B=r(a,"BR",{}),y=r(a,"BR",{}),w=r(a,"BR",{}),q=r(a,"BR",{}),C=r(a,"BR",{}),D=r(a,"BR",{}),S=r(a,"BR",{}),O=r(a,"BR",{}),$=r(a,"BR",{}),z=r(a,"BR",{}),A=r(a,"BR",{}),G=r(a,"BR",{}),J=c(a),l=r(a,"DIV",{class:!0});var s=T(l);P=r(s,"H1",{id:!0,class:!0});var _e=T(P);K=N(_e,"Report a Complaint"),_e.forEach(m),L=c(s),M=r(s,"P",{});var Re=T(M);Q=N(Re,"Date"),Re.forEach(m),X=c(s),d=r(s,"INPUT",{type:!0,placeholder:!0,class:!0}),Z=c(s),H=r(s,"P",{});var ve=T(H);x=N(ve,"Title"),ve.forEach(m),ee=c(s),f=r(s,"INPUT",{type:!0,class:!0}),te=c(s),W=r(s,"P",{});var Be=T(W);re=N(Be,"What is the license plate number of the vehicle you are reporting?"),Be.forEach(m),le=c(s),h=r(s,"INPUT",{type:!0,class:!0}),ae=c(s),j=r(s,"P",{});var ye=T(j);se=N(ye,"State the details of the issue"),ye.forEach(m),ne=c(s),p=r(s,"INPUT",{type:!0,id:!0,maxlength:!0,class:!0}),oe=c(s),E=r(s,"BUTTON",{class:!0});var ge=T(E);ue=N(ge,"SUBMIT REPORT"),ge.forEach(m),ie=c(s),pe=r(s,"BR",{}),be=r(s,"BR",{}),ce=r(s,"BR",{}),de=r(s,"BR",{}),fe=r(s,"BR",{}),s.forEach(m),a.forEach(m),V=c(o),Ie(g.$$.fragment,o),this.h()},h(){u(P,"id","title"),u(P,"class","svelte-1tka8fl"),u(d,"type","text"),u(d,"placeholder","--/--/----"),d.required=!0,u(d,"class","svelte-1tka8fl"),u(f,"type","text"),f.required=!0,u(f,"class","svelte-1tka8fl"),u(h,"type","text"),h.required=!0,u(h,"class","svelte-1tka8fl"),u(p,"type","text"),u(p,"id","detailbox"),p.required=!0,u(p,"maxlength","1000"),u(p,"class","svelte-1tka8fl"),u(E,"class","svelte-1tka8fl"),u(l,"class","svelte-1tka8fl"),u(n,"class","svelte-1tka8fl")},m(o,a){Te(o,n,a),e(n,_),e(n,U),e(n,R),e(n,v),e(n,B),e(n,y),e(n,w),e(n,q),e(n,C),e(n,D),e(n,S),e(n,O),e(n,$),e(n,z),e(n,A),e(n,G),e(n,J),e(n,l),e(l,P),e(P,K),e(l,L),e(l,M),e(M,Q),e(l,X),e(l,d),k(d,i[0]),e(l,Z),e(l,H),e(H,x),e(l,ee),e(l,f),k(f,i[1]),e(l,te),e(l,W),e(W,re),e(l,le),e(l,h),k(h,i[2]),e(l,ae),e(l,j),e(j,se),e(l,ne),e(l,p),k(p,i[3]),e(l,oe),e(l,E),e(E,ue),e(l,ie),e(l,pe),e(l,be),e(l,ce),e(l,de),e(l,fe),Te(o,V,a),Ne(g,o,a),Y=!0,he||(me=[F(d,"input",i[7]),F(f,"input",i[8]),F(h,"input",i[9]),F(p,"input",i[10]),F(E,"click",i[6])],he=!0)},p(o,[a]){a&1&&d.value!==o[0]&&k(d,o[0]),a&2&&f.value!==o[1]&&k(f,o[1]),a&4&&h.value!==o[2]&&k(h,o[2]),a&8&&p.value!==o[3]&&k(p,o[3]);const s={};a&16&&(s.show=o[4]),g.$set(s)},i(o){Y||(qe(g.$$.fragment,o),Y=!0)},o(o){Ce(g.$$.fragment,o),Y=!1},d(o){o&&m(n),o&&m(V),De(g,o),he=!1,Se(me)}}}const Ae=async({session:i})=>i.user.exists?{status:302,redirect:"/login"}:{};function Ve(i,n,_){let U,R,v,B,y;const w=$e(null);Oe(i,w,$=>_(4,U=$));const q=async()=>{console.log(userRecord.user.uid),await Me(He(We(je,"complaints"),userRecord.user.uid),{date:R,title:v,plateNumReporting:B,reportDetails:y,resolved:!1}),await updateProfile(userRecord.user,{displayName:username}),errorCode="Complaint Report sent!",await getIdToken(userRecord.user,!0)};function C(){R=this.value,_(0,R)}function D(){v=this.value,_(1,v)}function S(){B=this.value,_(2,B)}function O(){y=this.value,_(3,y)}return[R,v,B,y,U,w,q,C,D,S,O]}class Ge extends ke{constructor(n){super();Pe(this,n,Ve,Fe,Ee,{})}}export{Ge as default,Ae as load};
