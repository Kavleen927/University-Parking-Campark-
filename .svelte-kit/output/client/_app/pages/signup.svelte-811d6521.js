import{S as je,i as ze,s as Je,e as l,t as h,k as p,c as n,a as i,h as _,d as u,m as c,b as s,_ as Ke,g as Qe,F as e,T as f,$ as Ye,H as b,a0 as We,G as Re,U as Xe,a1 as Ze,a2 as $e,a3 as xe,a4 as et,a5 as tt}from"../chunks/vendor-752ac5d2.js";import{a as at}from"../chunks/firebase-41143acc.js";import{r as st}from"../chunks/fetch-552fd9ba.js";function lt(r){let k,t,g,U,A,I,V,H,m,M,B,W,j,P,z,F,J,K,E,Q,q,X,Z,d,se,$,le,ne,T,re,x,ue,oe,w,ie,ee,pe,ce,N,de,te,he,_e,G,v,O,ve,C,fe,D,me,S,ye,ge,R,Pe,L,Ee,Te,Y,ke,Ne,be;return{c(){k=l("body"),t=l("div"),g=l("h1"),U=h("Create an Account"),A=p(),I=l("p"),V=h("Username"),H=p(),m=l("input"),M=p(),B=l("p"),W=h("Email"),j=p(),P=l("input"),z=p(),F=l("p"),J=h("Password"),K=p(),E=l("input"),Q=p(),q=l("p"),X=h("Phone Number"),Z=p(),d=l("input"),se=p(),$=l("p"),le=h("Hofstra ID (optional)"),ne=p(),T=l("input"),re=p(),x=l("p"),ue=h("Vehicle Make, Model, Year"),oe=p(),w=l("input"),ie=p(),ee=l("p"),pe=h("License Plate Number"),ce=p(),N=l("input"),de=p(),te=l("p"),he=h("User Type"),_e=p(),G=l("div"),v=l("select"),O=l("option"),ve=h("Student"),C=l("option"),fe=h("Faculty"),D=l("option"),me=h("Guest"),S=l("option"),ye=h("Admin"),ge=p(),R=l("div"),Pe=p(),L=l("button"),Ee=h("Create Account!"),Te=p(),Y=l("button"),ke=h("Already have Account"),this.h()},l(o){k=n(o,"BODY",{class:!0});var y=i(k);t=n(y,"DIV",{class:!0});var a=i(t);g=n(a,"H1",{id:!0,class:!0});var Ie=i(g);U=_(Ie,"Create an Account"),Ie.forEach(u),A=c(a),I=n(a,"P",{});var qe=i(I);V=_(qe,"Username"),qe.forEach(u),H=c(a),m=n(a,"INPUT",{type:!0,class:!0}),M=c(a),B=n(a,"P",{});var we=i(B);W=_(we,"Email"),we.forEach(u),j=c(a),P=n(a,"INPUT",{type:!0,class:!0}),z=c(a),F=n(a,"P",{});var Ue=i(F);J=_(Ue,"Password"),Ue.forEach(u),K=c(a),E=n(a,"INPUT",{type:!0,class:!0}),Q=c(a),q=n(a,"P",{});var Ae=i(q);X=_(Ae,"Phone Number"),Ae.forEach(u),Z=c(a),d=n(a,"INPUT",{type:!0,id:!0,name:!0,pattern:!0,maxlength:!0,class:!0}),se=c(a),$=n(a,"P",{});var Oe=i($);le=_(Oe,"Hofstra ID (optional)"),Oe.forEach(u),ne=c(a),T=n(a,"INPUT",{type:!0,pattern:!0,maxlength:!0,class:!0}),re=c(a),x=n(a,"P",{});var Ce=i(x);ue=_(Ce,"Vehicle Make, Model, Year"),Ce.forEach(u),oe=c(a),w=n(a,"INPUT",{type:!0,class:!0}),ie=c(a),ee=n(a,"P",{});var De=i(ee);pe=_(De,"License Plate Number"),De.forEach(u),ce=c(a),N=n(a,"INPUT",{type:!0,maxlength:!0,class:!0}),de=c(a),te=n(a,"P",{});var Se=i(te);he=_(Se,"User Type"),Se.forEach(u),_e=c(a),G=n(a,"DIV",{id:!0,class:!0});var Ve=i(G);v=n(Ve,"SELECT",{id:!0,name:!0});var ae=i(v);O=n(ae,"OPTION",{});var He=i(O);ve=_(He,"Student"),He.forEach(u),C=n(ae,"OPTION",{});var Me=i(C);fe=_(Me,"Faculty"),Me.forEach(u),D=n(ae,"OPTION",{});var Be=i(D);me=_(Be,"Guest"),Be.forEach(u),S=n(ae,"OPTION",{});var Fe=i(S);ye=_(Fe,"Admin"),Fe.forEach(u),ae.forEach(u),Ve.forEach(u),ge=c(a),R=n(a,"DIV",{id:!0,class:!0}),i(R).forEach(u),Pe=c(a),L=n(a,"BUTTON",{class:!0});var Ge=i(L);Ee=_(Ge,"Create Account!"),Ge.forEach(u),Te=c(a),Y=n(a,"BUTTON",{class:!0});var Le=i(Y);ke=_(Le,"Already have Account"),Le.forEach(u),a.forEach(u),y.forEach(u),this.h()},h(){s(g,"id","title"),s(g,"class","svelte-155gykq"),s(m,"type","text"),s(m,"class","svelte-155gykq"),s(P,"type","text"),s(P,"class","svelte-155gykq"),s(E,"type","password"),s(E,"class","svelte-155gykq"),s(d,"type","tel"),s(d,"id","phone"),s(d,"name","phone"),s(d,"pattern","[0-9]"+3+"-[0-9]"+3+"-[0-9]"+4),d.required=!0,s(d,"maxlength","10"),s(d,"class","svelte-155gykq"),s(T,"type","number"),s(T,"pattern","[0-9]"+9),s(T,"maxlength","9"),s(T,"class","svelte-155gykq"),s(w,"type","text"),s(w,"class","svelte-155gykq"),s(N,"type","text"),s(N,"maxlength","10"),s(N,"class","svelte-155gykq"),O.__value="student",O.value=O.__value,C.__value="faculty",C.value=C.__value,D.__value="guest",D.value=D.__value,S.__value="admin",S.value=S.__value,s(v,"id","userType"),s(v,"name","userType"),r[7]===void 0&&Ke(()=>r[17].call(v)),s(G,"id","dropdown"),s(G,"class","svelte-155gykq"),s(R,"id","adminAuth"),s(R,"class","svelte-155gykq"),s(L,"class","svelte-155gykq"),s(Y,"class","svelte-155gykq"),s(t,"class","svelte-155gykq"),s(k,"class","svelte-155gykq")},m(o,y){Qe(o,k,y),e(k,t),e(t,g),e(g,U),e(t,A),e(t,I),e(I,V),e(t,H),e(t,m),f(m,r[0]),e(t,M),e(t,B),e(B,W),e(t,j),e(t,P),f(P,r[1]),e(t,z),e(t,F),e(F,J),e(t,K),e(t,E),f(E,r[2]),e(t,Q),e(t,q),e(q,X),e(t,Z),e(t,d),f(d,r[3]),e(t,se),e(t,$),e($,le),e(t,ne),e(t,T),f(T,r[4]),e(t,re),e(t,x),e(x,ue),e(t,oe),e(t,w),f(w,r[5]),e(t,ie),e(t,ee),e(ee,pe),e(t,ce),e(t,N),f(N,r[6]),e(t,de),e(t,te),e(te,he),e(t,_e),e(t,G),e(G,v),e(v,O),e(O,ve),e(v,C),e(C,fe),e(v,D),e(D,me),e(v,S),e(S,ye),Ye(v,r[7]),e(t,ge),e(t,R),e(t,Pe),e(t,L),e(L,Ee),e(t,Te),e(t,Y),e(Y,ke),Ne||(be=[b(m,"input",r[10]),b(P,"input",r[11]),b(E,"input",r[12]),b(d,"input",r[13]),b(T,"input",r[14]),b(w,"input",r[15]),b(N,"input",r[16]),b(v,"change",r[17]),b(L,"click",r[8]),b(Y,"click",r[9])],Ne=!0)},p(o,[y]){y&1&&m.value!==o[0]&&f(m,o[0]),y&2&&P.value!==o[1]&&f(P,o[1]),y&4&&E.value!==o[2]&&f(E,o[2]),y&8&&f(d,o[3]),y&16&&We(T.value)!==o[4]&&f(T,o[4]),y&32&&w.value!==o[5]&&f(w,o[5]),y&64&&N.value!==o[6]&&f(N,o[6]),y&128&&Ye(v,o[7])},i:Re,o:Re,d(o){o&&u(k),Ne=!1,Xe(be)}}}const it=async({session:r})=>r.user.exists?{status:302,redirect:"/login"}:{};function nt(r,k,t){let g,U,A,I,V,H,m,M;const B=async()=>{const q=await Ze(at,U,A).catch(Z=>{const d=Z.code;alert(d)});await $e(q.user,{displayName:g}),await xe(q.user).then(()=>{alert("Email Verification sent!")});const X=await et(q.user,!0);await st("/auth","POST",{idToken:X}),window.location.replace("/login")},W=async()=>{window.location.replace("/login")};function j(){g=this.value,t(0,g)}function P(){U=this.value,t(1,U)}function z(){A=this.value,t(2,A)}function F(){I=this.value,t(3,I)}function J(){V=We(this.value),t(4,V)}function K(){H=this.value,t(5,H)}function E(){m=this.value,t(6,m)}function Q(){M=tt(this),t(7,M)}return[g,U,A,I,V,H,m,M,B,W,j,P,z,F,J,K,E,Q]}class pt extends je{constructor(k){super();ze(this,k,nt,lt,Je,{})}}export{pt as default,it as load};
