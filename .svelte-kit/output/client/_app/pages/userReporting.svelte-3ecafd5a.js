import{S as je,i as Ge,s as Ye,R as Ze,e as r,k as g,t as M,w as ze,c as s,a as v,m as y,h as N,d as c,x as Je,b as o,a0 as Ne,g as ae,F as e,Z as W,y as Ke,H as X,a1 as Le,o as we,p as Qe,q as De,B as Xe,_ as $e,O as Fe,n as xe,D as et,a2 as tt,a3 as rt,a4 as st,a5 as lt,G as le,a6 as at,a7 as Ae,a8 as He}from"../chunks/vendor-7b15748c.js";import{d as ot}from"../chunks/firebase-07918f0f.js";import{s as nt}from"../chunks/stores-088fb681.js";function it(i){let t,u,n,d;return{c(){t=r("p"),u=M("Complaint Report sent!"),this.h()},l(f){t=s(f,"P",{class:!0});var R=v(t);u=N(R,"Complaint Report sent!"),R.forEach(c),this.h()},h(){o(t,"class","error-alert")},m(f,R){ae(f,t,R),e(t,u),d=!0},p:le,i(f){d||(at(()=>{n||(n=Ae(t,He,{duration:150},!0)),n.run(1)}),d=!0)},o(f){n||(n=Ae(t,He,{duration:150},!1)),n.run(0),d=!1},d(f){f&&c(t),f&&n&&n.end()}}}function ut(i){let t,u;return{c(){t=r("p"),u=M(We),this.h()},l(n){t=s(n,"P",{class:!0});var d=v(t);u=N(d,We),d.forEach(c),this.h()},h(){o(t,"class","error-alert")},m(n,d){ae(n,t,d),e(t,u)},p:le,i:le,o:le,d(n){n&&c(t)}}}function ct(i){let t,u,n,d,f,R,T,C,F,A,j,G,Y,Z,z,O,oe,ne,p,V,ie,ue,b,_,$,H,m,I,J,ce,fe,E,pe,w,K,de,be,B,_e,D,L,me,he,k,ve,q,Re,Be,ke,ge,ye,Ee,Te,x,P,ee,Ie,Pe;const Se=[ut,it],S=[];function Ue(a,l){return a[3]?1:-1}return~(b=Ue(i))&&(_=S[b]=Se[b](i)),P=new Ze({props:{show:i[5]}}),{c(){t=r("body"),u=r("br"),n=r("br"),d=r("br"),f=r("br"),R=r("br"),T=r("br"),C=r("br"),F=r("br"),A=r("br"),j=r("br"),G=r("br"),Y=r("br"),Z=r("br"),z=r("br"),O=r("br"),oe=r("br"),ne=g(),p=r("div"),V=r("h1"),ie=M("Report a Complaint"),ue=g(),_&&_.c(),$=g(),H=r("div"),m=r("form"),I=r("div"),J=r("p"),ce=M("Title"),fe=g(),E=r("input"),pe=g(),w=r("div"),K=r("p"),de=M("What is the license plate number of the vehicle you are reporting?"),be=g(),B=r("input"),_e=g(),D=r("div"),L=r("p"),me=M("State the details of the issue"),he=g(),k=r("input"),ve=g(),q=r("button"),Re=M("SUBMIT REPORT"),Be=g(),ke=r("br"),ge=r("br"),ye=r("br"),Ee=r("br"),Te=r("br"),x=g(),ze(P.$$.fragment),this.h()},l(a){t=s(a,"BODY",{class:!0});var l=v(t);u=s(l,"BR",{}),n=s(l,"BR",{}),d=s(l,"BR",{}),f=s(l,"BR",{}),R=s(l,"BR",{}),T=s(l,"BR",{}),C=s(l,"BR",{}),F=s(l,"BR",{}),A=s(l,"BR",{}),j=s(l,"BR",{}),G=s(l,"BR",{}),Y=s(l,"BR",{}),Z=s(l,"BR",{}),z=s(l,"BR",{}),O=s(l,"BR",{}),oe=s(l,"BR",{}),ne=y(l),p=s(l,"DIV",{class:!0});var h=v(p);V=s(h,"H1",{id:!0,class:!0});var Q=v(V);ie=N(Q,"Report a Complaint"),Q.forEach(c),ue=y(h),_&&_.l(h),$=y(h),H=s(h,"DIV",{class:!0});var Ce=v(H);m=s(Ce,"FORM",{id:!0,class:!0});var U=v(m);I=s(U,"DIV",{class:!0});var te=v(I);J=s(te,"P",{});var Oe=v(J);ce=N(Oe,"Title"),Oe.forEach(c),fe=y(te),E=s(te,"INPUT",{type:!0,class:!0}),te.forEach(c),pe=y(U),w=s(U,"DIV",{class:!0});var re=v(w);K=s(re,"P",{});var Ve=v(K);de=N(Ve,"What is the license plate number of the vehicle you are reporting?"),Ve.forEach(c),be=y(re),B=s(re,"INPUT",{type:!0,class:!0,maxlength:!0,placeholder:!0}),re.forEach(c),_e=y(U),D=s(U,"DIV",{class:!0});var se=v(D);L=s(se,"P",{});var qe=v(L);me=N(qe,"State the details of the issue"),qe.forEach(c),he=y(se),k=s(se,"INPUT",{type:!0,id:!0,class:!0,maxlength:!0}),se.forEach(c),ve=y(U),q=s(U,"BUTTON",{class:!0});var Me=v(q);Re=N(Me,"SUBMIT REPORT"),Me.forEach(c),U.forEach(c),Ce.forEach(c),Be=y(h),ke=s(h,"BR",{}),ge=s(h,"BR",{}),ye=s(h,"BR",{}),Ee=s(h,"BR",{}),Te=s(h,"BR",{}),h.forEach(c),l.forEach(c),x=y(a),Je(P.$$.fragment,a),this.h()},h(){o(V,"id","title"),o(V,"class","svelte-1tka8fl"),o(E,"type","text"),o(E,"class","form-control svelte-1tka8fl"),E.required=!0,o(I,"class","form-group svelte-1tka8fl"),o(B,"type","text"),o(B,"class","form-control svelte-1tka8fl"),o(B,"maxlength","6"),o(B,"placeholder","ABC123"),B.required=!0,o(w,"class","form-group svelte-1tka8fl"),o(k,"type","text"),o(k,"id","detailbox"),o(k,"class","form-control svelte-1tka8fl"),o(k,"maxlength","1000"),k.required=!0,o(D,"class","form-group svelte-1tka8fl"),o(q,"class","svelte-1tka8fl"),o(m,"id","surveyForm"),o(m,"class","mt-4"),Ne(m,"submitted",i[4]),o(H,"class","container svelte-1tka8fl"),o(p,"class","svelte-1tka8fl"),o(t,"class","svelte-1tka8fl")},m(a,l){ae(a,t,l),e(t,u),e(t,n),e(t,d),e(t,f),e(t,R),e(t,T),e(t,C),e(t,F),e(t,A),e(t,j),e(t,G),e(t,Y),e(t,Z),e(t,z),e(t,O),e(t,oe),e(t,ne),e(t,p),e(p,V),e(V,ie),e(p,ue),~b&&S[b].m(p,null),e(p,$),e(p,H),e(H,m),e(m,I),e(I,J),e(J,ce),e(I,fe),e(I,E),W(E,i[0]),e(m,pe),e(m,w),e(w,K),e(K,de),e(w,be),e(w,B),W(B,i[1]),e(m,_e),e(m,D),e(D,L),e(L,me),e(D,he),e(D,k),W(k,i[2]),e(m,ve),e(m,q),e(q,Re),e(p,Be),e(p,ke),e(p,ge),e(p,ye),e(p,Ee),e(p,Te),ae(a,x,l),Ke(P,a,l),ee=!0,Ie||(Pe=[X(E,"input",i[9]),X(B,"input",i[10]),X(k,"input",i[11]),X(q,"click",i[7]),X(m,"submit",Le(i[8]))],Ie=!0)},p(a,[l]){let h=b;b=Ue(a),b===h?~b&&S[b].p(a,l):(_&&(xe(),we(S[h],1,1,()=>{S[h]=null}),Qe()),~b?(_=S[b],_?_.p(a,l):(_=S[b]=Se[b](a),_.c()),De(_,1),_.m(p,$)):_=null),l&1&&E.value!==a[0]&&W(E,a[0]),l&2&&B.value!==a[1]&&W(B,a[1]),l&4&&k.value!==a[2]&&W(k,a[2]),l&16&&Ne(m,"submitted",a[4]);const Q={};l&32&&(Q.show=a[5]),P.$set(Q)},i(a){ee||(De(_),De(P.$$.fragment,a),ee=!0)},o(a){we(_),we(P.$$.fragment,a),ee=!1},d(a){a&&c(t),~b&&S[b].d(),a&&c(x),Xe(P,a),Ie=!1,$e(Pe)}}}const _t=async({session:i})=>i.user.exists?{status:302,redirect:"/login"}:{},We="All the fields are mandatory";function ft(i,t,u){let n,d;Fe(i,nt,O=>u(12,n=O));let f,R,T,C=!1,F=!1;const A=et(null);Fe(i,A,O=>u(5,d=O));const j=async()=>{await tt(st(lt(ot,"complaints"),n.user.uid),{date:rt.fromDate(new Date),title:f,plateNumReporting:R,reportDetails:T,resolved:!1}),await getIdToken(userRecord.user,!0),window.location.replace("/login")},G=async()=>{u(3,C=!0),u(4,F=!0),setTimeout(function(){u(3,C=!1)},4e3)};function Y(){f=this.value,u(0,f)}function Z(){R=this.value,u(1,R)}function z(){T=this.value,u(2,T)}return[f,R,T,C,F,d,A,j,G,Y,Z,z]}class mt extends je{constructor(t){super();Ge(this,t,ft,ct,Ye,{})}}export{mt as default,_t as load};
